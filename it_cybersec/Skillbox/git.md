#### Установка GIT

[Ссылка на скачивание GIT](https://git-scm.com/downloads)

Команды для первоначальной настройки:
`$ git config --global user.name 'Aleksandr Leonov'`
`$ git config --global user.email 'a.leonov1985@gmail.com'` Поправочка: [[github-auth#При попытке запушить на сервер изменения получил такую вот ошибочку]]

Проверка настроек:
`$ git config --list`


#### Основные понятия

__Коммит (commit)__ — набор изменений в файлах и каталогах проекта, сохранённые в репозиторий под определённым именем.
Каждый коммит имеет свой _уникальный хэш_ — идентификатор, по которому к нему можно обращаться.

Файлы в каталогах репозитория могут находиться в _разных состояниях_, от которых зависит попадание этих файлов в коммит:
1. Committed (закоммичен)
2. Not staget (изменён, отображаются красным цветом)
3. Staged (готов к коммиту, отображаются зелёным цветом)
4. Untracked (те файлы, которые ещё не отслеживаются GIT)

Состояния файлов отображает команда `git status`.

При необходимости в коммит можно добавлять не все файлы, в которых были изменения, а только некоторые.


**Индекс** — специальная область (список), в котором хранятся изменённые файлы, подготовленные к коммиту.


#### Основные команды

`$ git status` — Показывает, создан ли в текущей папке репозиторий, и если создан, показывает есть ли в этом репозитории какие-либо несохранённые изменения.

`$ git init` — создать пустой репозиторий в текущем каталоге. При этом здесь же создаётся поддиректория `.git`, в которой хранится служебная информация о репозитории.

`$ git add .` — добавить все изменённые файлы в текущей папке в репозиторий. Общий вид — `$ git add <file>` — подготовка конкретного файла к коммиту, добавление его в индекс.

`$ git commit -m 'Текст комментария (коммита)'` — закомитить все изменения.

`$ git show` — показать информацию о последнем коммите и его содержимом.

`$ git log` — показать всю историю коммитов.


##### Работа с удалённым репозиторием

`$ git clone https://aur.archlinux.org/anbox-modules-dkms.git` — скопировать содержание удалённого репозитория по указанному адресу в текущий каталог.

`$ git remote add origin https://github.com/AlexandrLeonov85/learning-git.git` — данная команда устанавливает связку локального репозитория с удалённым.

`$ git remote set-url origin https://AlexandrLeonov85:<MYTOKEN>@github.com/AlexandrLeonov85/learning-git.git` — для авторизации по personal access token (PAT) на github. Git writes your token to ~/.git/config file in plain text, which is a security risk! [Правильная авторизация на GitHub](../github-auth.md)

`$ git remote -v` — покажет адрес удалённого репозитория, с которым связан локальный репозиторий (вместе с персональным токеном, что небезопасно! Нужно подумать, как хранить токен и как правильно авторизироваться, когда пушим изменения на удалённый репозиторий).

`$ git remote remove origin` — отключиться от удалённого репозитория.

`$ git push -u origin master` — отправить закомиченные изменения на удалённый репозиторий («толкать от себя»).

`$ git pull` — обновить локальный репозиторий из удалённого («затянуть к себе»), работает после того, как эту команду уже использовали для данного репозитория с ключом -u.


##### Ветки: создание и работа

`$ git branch nazvanie_novoy_vetki` — создание новой ветки на основе текущей.

`$ git checkout -b nazvanie_novoy_vetki` — переключиться на вновь создаваемую ветку (ключ -b), название ветке дают в соответствии с фичей, которую в ней будут реализовывать. Ветка создаётся на основе текущей. Этого же результата можно добиться двумя командами:
`$ git branch nazvanie_novoy_vetki`
`$ git checkout nazvanie novoy_vetki`

`$ git branch` — выводит список веток в локальном репозитории, зелёным цветом выделяет текущую ветку. С ключом `-a` выводит также список веток на удалённом репозитории.


##### Работа с удалёнными ветками

`$ git push --set-upstream origin nazvanie_novoy_vetki` или
`$ git push -u origin nazvanie_novoy_vetki` — отправить на сервер созданную локально ветку 'nazvanie_novoy_vetki' на основе удалённого репозитория с именем 'origin'. Эта команда создаёт в удалённом репозитории новую ветку, связывает с ней локальную ветку и отправляет локальный коммит на сервер.


##### Откладывание изменений

`$ git stash` — сохраняем внесённые изменения, которые не были закоммичены.
`$ git stash list` — просмотр списка набора изменений.
`$ git stash pop` — вернуть изменения в рабочую директорию.
`$ git stash drop N` — удалить изменение под номером N.
